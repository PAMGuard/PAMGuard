<html>
<head>
<LINK href="../../../pamHelpStylesheet.css" type=text/css rel=STYLESHEET>
<title>Sound Cards</title>
</head>
<body>
<h1>Sound Cards</h1>
<p>
Sound Cards are by far the cheapest and most commonly used data acquisition 
device since nearly all modern computers are equipped with one.
</p><br>
<h2>Setting up a sound card</h2>
<p>
Setting up a sound card is easy. In the data acquisition dialog select "Sound Card" 
as the Data Source Type and a list of available sound cards will appear in the 
drop down list under the title "Select Audio Line". Select the card you with to use and the 
number of channels (which can only be either 1 or 2).</p>
<p>
Note that sound cards which have more than two input channels are likely to appear as multiple 
two channel devices and you will not be able to read out more than two channels at a time. <p>

<h2>Notes and Warnings</h2>
<h3>Laptops</h3>
<p>The audio quality of many sound cards is very poor and some, particularly those built into 
laptops which are prone to picking up electrical noise from the motherboard.</p>

<h3>USB</h3>
<p>Many external sound cards connect using USB. While convenient, we have often experienced problems
with USB sound cards 'dropping' data. This happens more when the computer is busy (which it will be when
you're running PAMGuard). These drop outs can result in the lost of several percent of your audio input data.</p>
<p>If you are using a laptop and need an external sound card, try to get one that connects using Firewire (IEEE 1394).</p>

<h3>Sample Rate Conversions</h3>
<p>The Windows drivers are clever. That's not a good thing ! They are designed such that multiple applications
on your computer can all use the same sound card, and all think they are using it at different sample rates, all 
at the same time. This is of course impossible.</p>
<p>What's really happening is that the sound card is sampling at one sample rate, and Windows is converting the 
data to whatever sample rate you've requested. This means that your beautiful 
high frequency data that you sampled at 192 kHz may actually be sampling the data at 48kHz and then up-sampling to 192kHz again without
you knowing it. This will of course destroy all data at higher frequencies.</p>
<p>In windows 11, it's reasonably easy to get around this, by going to the "Sound Settings" part 
of the control panel. </p>
<br>
<img src="images/ctrlpanel1.png"></img>
<br>
<p>In this case, I want to configure the E1DA Cosmos ADC PCM32/384 card, so click on the little arrow to 
the right of that card to open the advanced properties controls for that card.</p>
<p>You can also see that the card I want to use with PAMGuard is not the default device for my laptop. That is a good thing !
It means that any beeps or boings that Windows want's to make are going to go to a different device to the one I'm using
for data collection.</p>
<br>
<img src=images/ctrlpanel2.png></img>
<br>
<p>You can see that the card is currently set to sample 2 channels, 16 bit, at 48kHz which is what it's going
to do, even though I want to sample at a higher frequency. </p>
<br>
<img src=images/ctrlpanel3.png></img>
<br>
<p>From the drop down list of formats select the sample rate and data quality that you want, close the dialogs and
test.</p>
<p>Always check that the card is really doing what you want it to do by running a 
spectrogram display on the raw data to ensure that you genuinely do have data at high frequencies. </p> 

<p>Some manufacturers provide alternative Windows drivers which you should use wherever possible.</p>
<p>If possible, test your sound card with a signal generator while viewing a spectrogram of 
the data to check that the high frequency data are OK</p> 

<h3>Unwanted, unexpected and unnecessary filters</h3>
<p>Most sound cards are designed for human audio. Since we can't hear much above about 15kHz (our children and 
pets may be able to do a bit better) some sound card manufacturers include a filter at around 20kHz and even if 
the software is allowing you to sample at high sample rates, you may not be getting any data through at high frequencies</p>
<p>Ideally use a sound card where the manufacturer has published a technical specification showing a flat frequency response 
over the range you're interested in. As with sample rate conversions,   test your sound card with a signal generator while viewing a spectrogram of 
the data to check that the high frequency data are OK</p> 

<h3>Calibration</h3>
<p>Most sound cards do not come with calibration information.</p>
<p>If calibration is important, you'll have to do this yourself. Note though that 
settings may change depending on any adjustments made to the computers audio settings
(e.g. from the windows mixer). </p>
 


<br>
<p CLASS="prevLink"><a href="AcquisitionConfiguration.html">Previous: Acquisition Configuration</a></p>
<p CLASS="nextLink"><a href="AcquisitionAsioSoundCard.html">Next: Asio Sound Cards</a></p>
<br><br><br>
</body>
</html>