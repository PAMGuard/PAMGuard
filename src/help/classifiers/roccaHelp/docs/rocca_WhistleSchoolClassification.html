<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link rel="STYLESHEET" type="text/css" href="../../../pamHelpStylesheet.css">
<style>
<!--
.tab { padding-left: 40px;
padding-right: 40px;
}
-->
</style><title>Rocca Measurements and Classification</title>

</head>
<body>
<h1>ROCCA</h1>
<h2>Measurements and Classification</h2>
<br>
<h3>Classification technique</h3>
<p>ROCCA classifies whistles, clicks and encounters using Random
Forest classifiers. ROCCA currently uses a Random Forest classifier
model based on the open-source statistical software package <a href="https://ml.cms.waikato.ac.nz/weka/">Weka</a>.
For more information on Random Forests and the WEKA package, the user
is encouraged to refer to the book <a href="https://ml.cms.waikato.ac.nz/weka/book.html">Data
Mining: Practical Machine Learning Tools and Techniques</a></p>
<br>
<h3>Whistle Contour Measurement and Classification</h3>
<p>Table 1 lists the 50 variables
measured from each whistle
contour.</p>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td><strong>
Variable Code
</strong></td>
<td><strong>Variable Name</strong></td>
<td><strong>Units</strong></td>
<td><strong>Explanation</strong></td>
</tr>
<tr>
<td>FREQBEGSWEEP</td>
<td>Beginning Sweep</td>
<td>Categorical variable</td>
<td>Slope of the beginning sweep (1=positive -1=negative,
0=zero)</td>
</tr>
<tr>
<td>FREQBEGUP</td>
<td>Positive beginning sweep</td>
<td>Binary variable</td>
<td>1=beginning slope is positive, 0=beginning slope is
negative</td>
</tr>
<tr>
<td>FREQBEGDWN</td>
<td>Negative beginning sweep</td>
<td>Binary variable</td>
<td>1=beginning slope is negative, 0=beginning slope is
positive</td>
</tr>
<tr>
<td>FREQENDSWEEP</td>
<td>Ending sweep</td>
<td>Categorical variable</td>
<td>Slope of the beginning sweep (1=positive -1=negative,
0=zero)</td>
</tr>
<tr>
<td>FREQENDUP</td>
<td>Positive ending sweep</td>
<td>Binary variable</td>
<td>1=ending slope is positive, 0=ending slope is
negative</td>
</tr>
<tr>
<td>FREQENDDWN</td>
<td>Negative ending sweep</td>
<td>Binary variable</td>
<td>1=ending slope is negative, 0=ending slope is
positive</td>
</tr>
<tr>
<td>FREQBEG</td>
<td>Beginning frequency</td>
<td>Hz</td>
<td>Beginning frequency</td>
</tr>
<tr>
<td>FREQEND</td>
<td>Ending frequency</td>
<td>Hz</td>
<td>Ending frequency</td>
</tr>
<tr>
<td>FREQMIN</td>
<td>Minimum frequency</td>
<td>Hz</td>
<td>Minimu frequency</td>
</tr>
<tr>
<td>DURATION</td>
<td>Duration</td>
<td>Seconds</td>
<td>Duration of the whistle</td>
</tr>
<tr>
<td>FREQRANGE</td>
<td>Frequency range</td>
<td>Hz</td>
<td>Maximum frequency - minimum frequency</td>
</tr>
<tr>
<td>FREQMAX</td>
<td>Maximum frequency</td>
<td>Hz</td>
<td>Maximum frequency</td>
</tr>
<tr>
<td>FREQMEAN</td>
<td>Mean frequency</td>
<td>Hz</td>
<td>Mean frequency</td>
</tr>
<tr>
<td>FREQMEDIAN</td>
<td>Median frequency</td>
<td>Hz</td>
<td>Median frequency</td>
</tr>
<tr>
<td>FREQSTDDEV</td>
<td>Standard deviation of the frequency</td>
<td>Hz</td>
<td>Standard deviation of the frequency</td>
</tr>
<tr>
<td>FREQSPREAD</td>
<td>Frequency spread</td>
<td>Hz</td>
<td>Difference between the 75th and the 25th percentile of
the frequency</td>
</tr>
<tr>
<td>FREQQUARTER1</td>
<td>First quarter frequency</td>
<td>Hz</td>
<td>Frequency at one-quarter of the duration</td>
</tr>
<tr>
<td>FREQQUARTER2</td>
<td>Half frequency</td>
<td>Hz</td>
<td>Frequency at one-half of the duration</td>
</tr>
<tr>
<td>FREQQUARTER3</td>
<td>Third quarter frequency</td>
<td>Hz</td>
<td>Frequency at three-quarters of the duration</td>
</tr>
<tr>
<td>FREQCENTER</td>
<td>Center frequency</td>
<td>Hz</td>
<td>(minimum frequency + (maximum frequency - minimum
frequency)) / 2</td>
</tr>
<tr>
<td>FREQRELBW</td>
<td>Relative bandwidth</td>
<td>Hz</td>
<td>(maximum frequency - minimum frequency)/center frequency</td>
</tr>
<tr>
<td>FREQMAXMINRATIO</td>
<td>Maximum-minimum ratio</td>
<td>None</td>
<td>Maximum frequency / minimum frequency</td>
</tr>
<tr>
<td>FREQBEGENDRATIO</td>
<td>Beginning-ending ratio</td>
<td>None</td>
<td>Beginning frequency / end frequency</td>
</tr>
<tr>
<td>FREQCOFM</td>
<td>Coefficient of frequency modulation</td>
<td>None</td>
<td>Take 20 frequency measurements equally spaced in time,
then subtract each frequency value from the one before it. COFM is the
sum of the absolute values of these differences, all divided by 10,000</td>
</tr>
<tr>
<td>FREQNUMSTEPS</td>
<td>Number of steps</td>
<td>None</td>
<td>10 percent or greater increase or decrease in frequency
over two contour points</td>
</tr>
<tr>
<td>NUMINFLECTIONS</td>
<td>Number of inflection points</td>
<td>None</td>
<td>Changes from positive to negative or negative to
positive slope</td>
</tr>
<tr>
<td>INFLMAXDELTA</td>
<td>Maximum delta</td>
<td>Seconds</td>
<td>Maximum time between inflection points</td>
</tr>
<tr>
<td>INFLMINDELTA</td>
<td>Minimum delta</td>
<td>Seconds</td>
<td>Minimum time between inflection points</td>
</tr>
<tr>
<td>INFLMAXMINDELTA</td>
<td>Maximum-minimum delta ratio</td>
<td>None</td>
<td>Maximum delta / minimum delta</td>
</tr>
<tr>
<td>INFLMEANDELTA</td>
<td>Mean delta</td>
<td>Seconds</td>
<td>Mean time between inflection points</td>
</tr>
<tr>
<td>INFLSTDDEVDELTA</td>
<td>Standard deviation delta</td>
<td>Seconds</td>
<td>Standard deviation of the time between inflection points</td>
</tr>
<tr>
<td>INFLMEDIANDELTA</td>
<td>Median delta</td>
<td>Seconds</td>
<td>Median of the time between inflection points</td>
</tr>
<tr>
<td>FREQSLOPEMEAN</td>
<td>Mean slope</td>
<td>Hz/second</td>
<td>Overall mean slope</td>
</tr>
<tr>
<td>FREQPOSSLOPEMEAN</td>
<td>Positive slope</td>
<td>Hz/second</td>
<td>Mean positive slope</td>
</tr>
<tr>
<td>FREQNEGSLOPEMEAN</td>
<td>Negative slope</td>
<td>Hz/second</td>
<td>Mean negative slope</td>
</tr>
<tr>
<td>FREQABSSLOPEMEAN</td>
<td>Absolute slope</td>
<td>Hz/second</td>
<td>Mean absolute value of the slope</td>
</tr>
<tr>
<td>FRQESLOPERATIO</td>
<td>Positive-negative slope ratio</td>
<td>None</td>
<td>Mean positive slope / mean negative slope</td>
</tr>
<tr>
<td>FREQSWEEPUPPERCENT</td>
<td>Percent positive</td>
<td>None</td>
<td>Percent of the whistle that has a positive slope</td>
</tr>
<tr>
<td>FREQSWEEPDWNPERCENT</td>
<td>Percent negative</td>
<td>None</td>
<td>Percent of the whistle that has a negative slope</td>
</tr>
<tr>
<td>FREQSWEEPFLATPERCENT</td>
<td>Percent flat</td>
<td>None</td>
<td>Percent of the whistle that has a zero slope</td>
</tr>
<tr>
<td>NUMSWEEPSUPDWN</td>
<td>Positive-negative slope</td>
<td>None</td>
<td>Number of inflection points that change from positive
slope to negative slope</td>
</tr>
<tr>
<td>NUMSWEEPSDWNUP</td>
<td>Negative-positive slope</td>
<td>None</td>
<td>Number of inflection points that change from negative
slope to&nbsp;positive slope</td>
</tr>
<tr>
<td>NUMSWEEPSUPFLAT</td>
<td>Positive-flat slope</td>
<td>None</td>
<td>Number of times the slope changes from positive to zero</td>
</tr>
<tr>
<td>NUMSWEEPSDWNFLAT</td>
<td>Negative-flat slope</td>
<td>None</td>
<td>Number of times the slope changes from negative to zero</td>
</tr>
<tr>
<td>NUMSWEEPSFLATDWN</td>
<td>Flat-negative slope</td>
<td>None</td>
<td>Number of times the slope changes from zero to negative</td>
</tr>
<tr>
<td>NUMSWEEPSFLATUP</td>
<td>Flat-positive slope</td>
<td>None</td>
<td>Number of times the slope changes from zero to positive</td>
</tr>
<tr>
<td>FREQSTEPUP</td>
<td>Steps up</td>
<td>None</td>
<td>Number of steps that have increasing frequency</td>
</tr>
<tr>
<td>FREQSTEPDOWN</td>
<td>Steps down</td>
<td>None</td>
<td>Number of steps that have decreasing frequency</td>
</tr>
<tr>
<td>INFLDUR</td>
<td>Inflection points / duration</td>
<td>None</td>
<td>Number of inflection points / duration</td>
</tr>
<tr>
<td>STEPDUR</td>
<td>Steps/duration</td>
<td>None</td>
<td>Number of steps / duration</td>
</tr>
</tbody>
</table>
<p></p>
<p>To classify a whistle, the vector of variables measured from
that
whistle is analysed with the random forest model, which contains
hundreds of classification trees. Each tree in the forest classifies
the whistle and final classification is based on the species that the
greatest percentage of trees voted for. If the greatest percentage of
tree votes falls below the whistle threshold (as specified in the <a href="rocca_Configure.html#rocca_ParamsClassifier">ROCCA
Parameters window</a>)
, the whistle is classified as Ambiguous.</p>
<br>
<br>
<h3>Click Classification</h3>
<p>Table 2 lists the 17 variables measured from each click.</p>
<p></p>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td><strong>Variable Code
</strong></td>
<td><strong>Variable Name</strong></td>
<td><strong>Units</strong></td>
<td><strong>Explanation</strong></td>
</tr>
<tr>
<td>DURATION</td>
<td>Duration</td>
<td>Seconds</td>
<td>Duration of the click</td>
</tr>
<tr>
<td>FREQPEAK</td>
<td>Peak frequency</td>
<td>Hz</td>
<td>frequency with the highest amplitude</td>
</tr>
<tr>
<td>BW3DBLOW</td>
<td>-3dB bandwidth lower limit</td>
<td>Hz</td>
<td>First frequency lower than the peak frequency at which
the amplitude has dropped by 3dB</td>
</tr>
<tr>
<td>BW3DBHIGH</td>
<td>-3dB bandwidth upper limit</td>
<td>Hz</td>
<td>First frequency higher than the peak frequency at which
the amplitude has dropped by 3dB</td>
</tr>
<tr>
<td>BW3DB</td>
<td>-3dB bandwidth</td>
<td>Hz</td>
<td>BW3DBHIGH - BW3DBLOW</td>
</tr>
<tr>
<td>BW10DBLOW</td>
<td>-10dB bandwidth lower limit</td>
<td>Hz</td>
<td>First frequency lower than the peak frequency at which
the amplitude has dropped by 10dB</td>
</tr>
<tr>
<td>BW10DBHIGH</td>
<td>-10dB bandwidth upper limit</td>
<td>Hz</td>
<td>First frequency higher than the peak frequency at which
the amplitude has dropped by 10dB</td>
</tr>
<tr>
<td>BW10DB</td>
<td>-10dB bandwidth</td>
<td>Hz</td>
<td>BW10DBHIGH - BW10DBLOW</td>
</tr>
<tr>
<td>RMSSIGNAL</td>
<td>Signal RMS</td>
<td>dB</td>
<td>Root-mean-square of the click amplitude</td>
</tr>
<tr>
<td>RMSNOISE</td>
<td>Noise RMS</td>
<td>dB</td>
<td>Root-mean-square of the noise amplitude</td>
</tr>
<tr>
<td>SNR</td>
<td>Signal-to-noise ratio</td>
<td>dB</td>
<td>RMSSIGNAL - RMSNOISE</td>
</tr>
<tr>
<td>NCROSSINGS</td>
<td>Number of zero crossings</td>
<td>None</td>
<td>Number of times the waveform crosses zero</td>
</tr>
<tr>
<td>SWEEPRATE</td>
<td>Sweep rate</td>
<td>kHz/ms</td>
<td>sweep rate of the zero crossings</td>
</tr>
<tr>
<td>MEANTIMEZC<sup>*</sup></td>
<td>Zero crossing mean time</td>
<td>ms</td>
<td>mean time between zero crossings</td>
</tr>
<tr>
<td>MEDIANTIMEZC<sup>*</sup></td>
<td>Zero crossing median time</td>
<td>ms</td>
<td>median time between zero crossings</td>
</tr>
<tr>
<td>VARIANCETIMEZC</td>
<td>Zero crossing variance</td>
<td>ms<sup>2</sup></td>
<td>variance of the time between zero crossings</td>
</tr>
<tr>
<td>ICI</td>
<td>Inter-click Interval</td>
<td>seconds</td>
<td>Time from the end of one click to the start of the next
click</td>
</tr>
</tbody>
</table>
<p><sup>*</sup>Mean and median zero crossing times
are not used in the current classifier, but still calculated by the
Rocca algorithms. Rocca will ignore these variables during
classification.</p>
<p>To classify a click, the vector of variables measured from
that click is analysed with the random forest model, which contains
hundreds of classification trees. Each tree in the forest classifies
the click and final classification is based on the species that the
greatest percentage of trees voted for. If the greatest percentage of
tree votes falls below the click threshold (as specified in the <a href="rocca_Configure.html#rocca_ParamsClassifier">ROCCA
Parameters window</a>)
, the click is classified as Ambiguous.</p>
<br>
<br>
<h3><a name="SchoolClassification">School
Classification</a></h3>
<p>Table 3 lists the 17 variables calculated based on whistle and
click detections for each encounter (if
specified by the user in the ROCCA <a href="rocca_Configure.html#SchoolStats">parameters</a>
window):</p>
<p></p>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td><strong>Variable Code
</strong></td>
<td><strong>Variable Name</strong></td>
<td><strong>Units</strong></td>
<td><strong>Explanation</strong></td>
</tr>
<tr>
<td>Encounter_Duration_s</td>
<td>Encounter duration</td>
<td>Seconds</td>
<td>Duration from the start of the first whistle/click to
the end of the last whistle/click</td>
</tr>
<tr>
<td>Number_of_whistles</td>
<td>Number of whistles</td>
<td>None</td>
<td>Number of whistles</td>
</tr>
<tr>
<td>Whistle_Duration_s</td>
<td>Whistle duration</td>
<td>Seconds</td>
<td>Duration from the start of the first whistle to the end
of the last whistle</td>
</tr>
<tr>
<td>Min_Time_Between_Whistle_Detections_s</td>
<td>Minimum time between whistles</td>
<td>Seconds</td>
<td>Minimum time between whistles</td>
</tr>
<tr>
<td>Max_Time_Between_Whistle_Detections_s</td>
<td>Maximum time between whistles</td>
<td>Seconds</td>
<td>Maximum time between whistles</td>
</tr>
<tr>
<td>Ave_Time_Between_Whistle_Detections_s</td>
<td>Average time between whistles</td>
<td>Seconds</td>
<td>Average time between whistles</td>
</tr>
<tr>
<td>Whistle_Detections_per_Second</td>
<td>Whistles per second</td>
<td>Counts/s</td>
<td>The number of whistles / whistle duration</td>
</tr>
<tr>
<td>Whistle_Density</td>
<td>Whistle density</td>
<td>None</td>
<td>Sum of the whistle durations / the encounter duration</td>
</tr>
<tr>
<td>Ave_Whistle_Overlap</td>
<td>Average whistle overlap</td>
<td>None</td>
<td>Total duration during which whistles overlap /
encounter duration</td>
</tr>
<tr>
<td>Number_of_Clicks</td>
<td>Number of clicks</td>
<td>None</td>
<td>Number of clicks</td>
</tr>
<tr>
<td>Click_Duration_s</td>
<td>Click duration</td>
<td>Seconds</td>
<td>Duration from start of first click to end of last click</td>
</tr>
<tr>
<td>Min_Time_Between_Click_Detections</td>
<td>Minimum time between clicks</td>
<td>Seconds</td>
<td>Minimum time between clicks</td>
</tr>
<tr>
<td>Max_Time_Between_Click_Detections</td>
<td>Maximum time between clicks</td>
<td>Seconds</td>
<td>Maximum time between clicks</td>
</tr>
<tr>
<td>Ave_Time_Between_Click_Detections</td>
<td>Average time between clicks</td>
<td>Seconds</td>
<td>Average time between clicks</td>
</tr>
<tr>
<td>Click_Detections_per_Second</td>
<td>Clicks per second</td>
<td>Counts/s</td>
<td>Sum of the click durations / encounter duration</td>
</tr>
<tr>
<td>Ave_Click_Overlap</td>
<td>Average click overlap</td>
<td>None</td>
<td>Total duration during which clicks overlap / encounter
duration</td>
</tr>
<tr>
<td>Lat<sup>*</sup></td>
<td>Latitude</td>
<td>Deg</td>
<td>Latitude</td>
</tr>
<tr>
<td>Long<sup>*</sup></td>
<td>Longitude</td>
<td>Deg</td>
<td>Longitude</td>
</tr>
</tbody>
</table>
<p><sup>*</sup>Latitude and Longitude are not
measured from the whistle and click data, but taken from the GPS source
as specified in the <a href="rocca_Configure.html#rocca_SourceTab">
Rocca Parameters Window Source tab</a>.</p>
<p></p>
<p>Each <a href="rocca_Sidebar.html">encounter
number</a> holds a list of possible species based on the
whistle/click classifier models used. There are two values stored for
each species: the number of times a whistle/click has been classified
to that species (displayed), and a cumulative total of all the
percentage tree votes for the species (not displayed). When a new
whistle/click classification is saved to an encounter number, the count
of the classified species is increased by one and the percentage tree
votes for each species are added to the corresponding cumulative totals.</p>
<p>The encounter is classified in one of two ways:</p>
<ol>
<li>
<p>If an encounter classifier has been loaded, the vector of
encounter parameters and the random forest probabilities from the
whistle and click classifiers are analysed with the encounter random
forest and the encounter is classified as the species with the highest
percentage of tree votes. </p>
</li>
<li>
<p>2. If no encounter classifier has been selected by the
user, the encounter is classified as the species with the highest
cumulative percentage of tree votes. Note that this may be different
than the species most often classified - the value shown in the sidebar
species list. If the highest cumulative percentage of tree votes falls
below the school threshold (as specified in the <a href="rocca_Configure.html#rocca_ParamsClassifier">ROCCA
Parameters window</a>), the detection is classified as Ambiguous.</p>
</li>
</ol>
<br>
<br>
<p></p>
<p class="prevLink"><a href="rocca_ContourExtractionManipulation.html">Previous:
Contour Extraction / Manipulation</a></p>
<p class="nextLink"><a href="rocca_Sidebar.html">Next:
ROCCA Sidebar</a></p>
<br>
<br>
<br>
</body></html>