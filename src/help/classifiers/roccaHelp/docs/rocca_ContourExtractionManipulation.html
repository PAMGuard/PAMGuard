<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<link href="../../../pamHelpStylesheet.css" type="text/css" rel="STYLESHEET">
<title>Rocca Contour Extraction and Manipulation</title></head>
<body>

<h1>ROCCA</h1>
<h2>Contour Extraction / Manipulation</h2><br>
<p>The whistle contour is automatically extracted from the spectrogram
by stepping through the spectra one time slice at a time and measuring
the peak frequency for each slice within a specific frequency bin. The
upper and lower limits of the search bin are defined by the peak
frequency of the previous time slice +/- the noise sensitivity (as
defined in the <a href="rocca_Configure.html#rocca_ParamsClassifier">Rocca Parameters window</a>).  The frequency bin of the first time slice is determined by the user-selected start frequency +/- the noise sensitivity.</p>
<br><br>
<h3>Adjusting the Noise Sensitivity</h3>

<p>If the contour does not match the underlying whistle, the first step should be to adjust the noise sensitivity.</p>

<ul>
	<li><p>Decreasing the sensitivity narrows the frequency band
used when searching for the peak frequency in the next time slice. A
smaller band means the extraction algorithm is less likely to jump from
the whistle contour to a nearby noisy peak. However, a smaller band
also means that if the algorithm does jump to a nearby noisy peak,
there is less chance it will be able to jump back to the whistle
contour.</p></li>
	<li><p>Increasing the sensitivity widens the
frequency band used when searching for the peak frequency in the next
time slice. A wider band increases the chances that an extraction gone
off-track and following noise will be able to jump back to the whistle
contour. However, a wider band also increases the chances of going
off-track in the first place.</p></li>
</ul>
<table border="0" width="100%">
<tbody><tr>
    <td><img alt="" src="images/noise_sens.png"></td>
	<td><p>A
button is provided in the top toolbar to quickly adjust noise
sensitivity. The spectrogram will automatically update with the
recalculated contour each time the sensitivity is changed.</p></td>
</tr>
</tbody></table>
<br><br>
<h3>Adjusting the highpass/lowpass filters</h3>
<p>The highpass and lowpass filters limit the contour extraction
algorithm to only function within a specific frequency band. The
highpass filter defines the lower bound, and the lowpass filter defines
the upper bound. Specify a filter by typing in the desired frequency
and hitting &lt;enter&gt;, or hitting the &lt;Set&gt; button and
clicking on the desired frequency in the spectrogram. The filter is
displayed on the spectrogram as a red horizontal line. If the
extraction algorithm finds a peak frequency lower than the highpass
filter specified, the peak frequency will be set to the value of the
highpass filter. Similarly, if the extraction algorithm finds a peak
frequency higher than the lowpass filter specified, the peak frequency
will be set to the value of the lowpass filter.</p>
<p>The filters can be reset by clicking the <a href="rocca_Spectrogram.html#rocca_ResetFilter">&lt;Reset Filters&gt; button</a>.</p>
<br><br>
<h3><a name="manual">Adjusting the contour points manually</a></h3>
<table border="0" width="100%">
<tbody><tr>
    <td><img alt="" src="images/contour_points.png"></td>
	<td><p>Individual
contour points can be dragged manually to new positions. In order to
view the points, move the mouse over the spectrogram and press the left
mouse button. Try to move the mouse to a position away from the current
whistle contour, to avoid accidentally dragging a contour point.
Contour points will be displayed as light green dots.</p></td>
</tr>
<tr>
    <td><img alt="" src="images/contour_points_selected.png"></td>
	<td><p>Contour
points can only be dragged vertically. That is, the frequency can be
changed but not the time slice. Once the contour point to be moved is
determined, position the mouse over top of the point and press and hold
the mouse button. The contour points will again be displayed as light
green dots, but the point closest to the cursor will have a red circle.
Move the mouse up or down to the desired frequency, and release the
mouse button.</p></td>
</tr>
</tbody></table>
<p></p><p>Once a contour point has been moved, it will be locked in the
new position even if the contour is recalculated by adjusting the noise
sensitivity, modifying filters or clicking the <a href="rocca_Spectrogram.html#rocca_RecalcContour">&lt;Recalc Contour&gt; button</a>.
In this way, if the contour extraction algorithm has followed noise
instead of the desired whistle, the user can move a point to the
correct position and get the extraction back on track. The contour
point can still be moved manually, and clicking the <a href="rocca_Spectrogram.html#rocca_ResetContour">&lt;Reset Contour&gt; button</a> will unlock all locked points.</p>



<br><br>
<p></p>
<p class="prevLink"><a href="rocca_Spectrogram.html">Previous:
Spectrogram Popup Window</a></p>
<p class="nextLink"><a href="rocca_WhistleSchoolClassification.html">Next:
Whistle and Encounter Classification</a></p>

<br><br><br>
</body></html>