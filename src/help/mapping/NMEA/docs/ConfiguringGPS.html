<html>
<head>
<LINK href="../../../pamHelpStylesheet.css" type=text/css rel=STYLESHEET>
<title>GPS Configuration</title>
</head>

<body>

<h1>NMEA</h1>
<h2>Configuring GPS Processing</h2>
<br>

<h3>Adding an GPS Processing Module</h3>
<p>To add a new GPS Data Collection module to PAMGuard, 
  select the <em><strong>File->Maps and Mapping->GPS Processing</strong></em> menu item.</p>
<p>
Note that it is only possible to have one GPS Processing module in PAMGuard, so the menu
item will be greyed out if a module has already been added. 

<h3>Setting the GPS Parameters</h3>

<p>
From the Detection Menu, select <strong><em>GPS>GPS Options</em></strong> …  </p>
<br>

<img alt="GPS Options" src="images/GPSOptions1.png"/><br>

<h3>Select NMEA Data Source</h3>
<p>Select the NMEA data source from the drop down list. If there are no NMEA Data Collection
  modules in the current PAMGuard model, you must close the GPS Options dialog and add one. 
  
</p>
<h4>Main Navigation data string</h4>
<p>A number of different NMEA Strings (or NMEA sentences) contain navigation data. The first five letters of each sentence identify the type of data in the rest of the sentence. The most common
  sentences with GPS data are is GPRMC, but occasionally some GPS receivers may only output GPGGA data. </p>
<p>
On very rare occasions, if the GPS data have been multiplexed through some other instruments, the first 
two characters of the string identifier are changed. If this is the case, it may also be necessary to set these
so that the GPS module can identify the appropriate data. As an alternative, select the "Allow and string initials" option
which will use any valid RMC or GGA string. Note however, that with a complex NMEA system there may be more than one GPS and 
it is better to select only strings from the most accurate</p>


<h3>Read Options</h3>
<p>Three options for reading and storing GPS data are available.</p>
<p>  <STRONG>Read all GPS data: </STRONG> all GPS data will be used, however often they arrive (typically once per second).</p>
<p><STRONG>Read at fixed time intervals: </STRONG>GPS Data will only be used at fixed time intervals (say 10s). </p>
<p><STRONG>Read on timer or course of speed change:</STRONG> GPS data will be used at fixed time intervals or whenever the course or speed change. </p>
<p>The latter options minimises the amount of data stored when undertaking straight line transects.  
  PAMGuard will interpolate between GPS positions, so it 
  is possible to set a relatively long time interval (say 1 minute) for regular reads, but data
  will get read more often if there are course or speed changes.   
  
</p>
<h3>Heading Data</h3>
<p>A GPS receiver can only directly measure a vessels position in space. GPS receivers output 
course information based on successive measurements of position. This course is therefore the 
direction the vessel is moving in relative to the earth, which is not necessarily the direction 
the vessel is pointing in. For instance, the vessel may be moving sideways in a cross current.</p>
<p>The course information from a GPS is generally referred to as Course Over Ground, or COG.</p>
<p>A number of options exist for reading the true heading of a vessel, i.e. the direction it is pointing in. 
These are:</p>
<ol>
<li><p>A gyro compass (Generally only available on larger vessels. Gives a heading relative
to true North)</li>
<li><p>A fluxgate compass (A cheaper options which measures the magnetic heading of the vessel)</p></li>
<li><p>A twin GPS heading sensor (Two GPS receivers close together. The relative positions of the
two receivers are accurate enough to give true heading</p></li>
</ol>
<p>Most of the above devices will output an NMEA string GPHDT which contains either the 
true or the magnetic heading information, depending on the type of sensor.</p>
<p>PAMGuard can read the GPHDT string and will add the heading information to the data from the 
GPS receiver. The heading data are displayed on the map and are also written to the GPSData database
table</p>
<p><img alt="Heading Data" src="images/GPSOptions2.png"/><br>
<p>To read heading data, go to the Heading tab, check the 'Read heading data' check box. Then select the 
NMEA data source. Note that with some NMEA installations, the heading data string may 
be in the same multiplexed data as the GPS data, in others, it may be on a separate serial 
data stream.</p>
 

<h3>Vessel Options</h3>
<p>Clicking the vessel tab allows you to specify where the GPS receiver is on the vessel.</p>
<p><img alt="Vessel Options" src="images/GPSOptions3.png"/><br><br>
  Enter the ships dimensions and select an optional heading arrow to be shown on the map. These 
  parameters affect displays only and have no other effect on PAMGuard operation.</p>
<p>&nbsp;</p>
<p> <a href="configuringNMEADataSource.html">Previous: Configuring NMEA</a></p>
<p> <a href="ClockOptions.html">Next: Clock Options</a></p>
<br><br><br>
</body>
</html>